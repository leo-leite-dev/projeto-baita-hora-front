<div class="page">
    <div class="card">
        <app-back-button [to]="['/app/service-offering/list']" variant="ghost" label="Voltar" aria-label="Voltar" />

        <div class="card_head mt-20">
            <h2>Editar oferta de serviço</h2>
            <p class="subtitle">Atualize o serviço e o valor</p>

            <div *ngIf="form.hasError('server')" class="alert" role="alert" aria-live="assertive">
                {{ form.getError('server') }}
            </div>
        </div>

        <ng-container *ngIf="loaded; else loadingTpl">
            <form class="grid" [formGroup]="form" (ngSubmit)="submit()">
                <app-service-offering-form class="field--full" [group]="form"></app-service-offering-form>

                <div class="actions field--full">
                    <app-button type="clean" label="Reverter alterações" (clicked)="revert()" />
                    <app-button type="submit" label="Salvar alterações"
                        [disabled]="form.invalid || submitting || !form.dirty" />
                </div>
            </form>
        </ng-container>

        <ng-template #loadingTpl>
            <div class="loading">Carregando dados…</div>
        </ng-template>
    </div>
</div>