@use 'colors' as *;

$shadow: 0 10px 30px rgba($pure-black, .35), inset 0 1px 0 rgba($pure-white, .02);
$w-expanded: 260px;
$w-collapsed: 72px;
$radius: 14px;
$transition: .25s cubic-bezier(.22, .61, .36, 1);
$font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;

.side-menu {
  position: relative;
  width: $w-expanded;
  height: 100vh;
  background: linear-gradient(180deg, $bg 0%, $panel-elev 100%);
  color: $text;
  box-shadow: $shadow;
  border-right: 1px solid $border;
  z-index: 1001;
  transition: width $transition, transform $transition, padding $transition;
  font-family: $font;
  will-change: width, transform;

  .menu-toggle {
    position: absolute;
    top: 56px;
    right: -14px;
    border: none;
    background: $bg;
    color: $text;
    width: 32px;
    height: 32px;
    padding: 0;
    border-radius: 8px;
    box-shadow: 0 4px 16px rgba($pure-black, .35);
    cursor: pointer;
    transition: transform $transition, background $transition, box-shadow $transition;

    &:active {
      transform: translateX(1px) scale(.98);
    }

    mat-icon {
      font-size: 20px;
    }
  }

  .menu-header {
    padding: 20px 18px;
    border-bottom: 1px solid $border;
    min-height: 64px;

    h2,
    .collapsed-logo {
      margin: 0;
      font-weight: 700;
      letter-spacing: .4px;
    }

    h2 {
      color: $text;
    }

    .collapsed-logo {
      width: 100%;
    }
  }

  .menu-list {
    margin: 0;
    padding: 6px 8px 10px;
    list-style: none;
    flex: 1 1 auto;
    overflow-y: auto;
    overscroll-behavior: contain;
  }

  &.collapsed {
    width: $w-collapsed;

    .menu-header {
      padding: 16px 0;
    }

    .menu-toggle {
      right: -10px;
    }

    .menu-list {
      padding: 8px 8px 12px;

      .menu-item {
        .main-item {
          justify-content: center;
          padding: 12px 10px;

          span,
          .arrow {
            display: none;
          }

          mat-icon:first-child {
            color: $text;
          }
        }

        .submenu,
        .submenu.level-2 {
          display: none;
        }
      }
    }
  }
}

.side-menu .menu-list .menu-item+.menu-item {
  margin-top: 4px;
  border-top: 1px solid transparent;
}